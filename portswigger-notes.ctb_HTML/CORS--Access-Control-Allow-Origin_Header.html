<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>Access-Control-Allow-Origin Header</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>Access-Control-Allow-Origin Header</h1><br/><strong>Overview</strong><br />• CORS specs provides controlled relaxation on the same-origin policy for HTTP requests<br />• The header is included to enable this if the other website has the same header<br /><strong><br />Implementing Simple Cross-Origin resource Sharing</strong><br />• The header can contain multiple origins or NULL.<br />• Request Origin needs to be in Response ACAO.<br /><strong><br />Handling cross-origin resource requests with credentials</strong><br />• If you want to send across credentials (like cookies) you set Access-Control-All-Credentials to true<br /><strong><br />Relaxation of CORS specs w/ Wildcards</strong><br />• ACAO supports wildcard * (when used in isolation)<br />• wildcard is restricted in specs<br />   ◇ Can&#39;t combine * with cross-origin transfers of credentials (authentication, cookies, client-side certs)<br />   ◇ Security feature.<br /><strong><br />Pre-flight checks</strong><br />• added to CORS specs to protect legacy resources<br />• Adds extra HTTP request round-trip to request, so increase browsing overhead.<br />• Sometimes, cross domain request includes non-standard HTTP methods or headers<br />   ◇ pre-flight checks, checks if the methods/headers in a request are permitted before performing them<br /><span style="text-decoration:underline;">EXAMPLE</span><br />OPTIONS /data HTTP/1.1<br />   Host: &lt;some website&gt;<br />   ...<br />   Origin: https://normal-website.com<br />   Access-Control-Request-Method: PUT<br />   Access-Control-Request-Headers: Special-Request-Header<br />   <br /> ---- RESPONDS WITH ----<br /> <br /> HTTP/1.1 204 No Content<br />   ...<br />   Access-Control-Allow-Origin: https://normal-website.com<br />   Access-Control-Allow-Methods: PUT, POST, OPTIONS<br />   Access-Control-Allow-Headers: Special-Request-Header<br />   Access-Control-Allow-Credentials: true<br />   Access-Control-Max-Age: 240  <br />   <strong><br />Does CORS protect against CSRF?</strong><br />• Doesn&#39;t!!!<br />• Common misconception<br />• CORS = controlled relaxation of same-origin policy<br />• If poorly configured, might increase possibility of CSRF</div></body></html>