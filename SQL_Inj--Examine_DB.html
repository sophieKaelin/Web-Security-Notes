<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>Examine DB</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>Examine DB</h1><br/><strong>Querying DB Type and</strong> <strong>Version</strong><br />• Different db&#39;s have different ways of querying. Try different commands to determine what type of DB in use<br /><table class="table"><tr><th>DB Type</th><th>Query</th></tr><tr><td>Microsoft/MySQL</td><td>SELECT @@version</td></tr><tr><td>Oracle</td><td>SELECT * FROM v$version</td></tr><tr><td>PostgreSQL</td><td>SELECT version()</td></tr></table><br />• Incorporate this into a UNION attack<br />• ORACLE: every SELECT must specify a FROM<br />   ◇ There is a built in table called DUAL if you need to provide one.<br />• HINTS HERE: <a href="https://portswigger.net/web-security/sql-injection/cheat-sheet">https://portswigger.net/web-security/sql-injection/cheat-sheet</a><br /><strong><br />Listing the contents of the database</strong><br />• Most (except Oracle) have an information table in the db<br />• SELECT * FROM information_schema.tables<br />   ◇ Finds the name of all the tables<br />   ◇ Columns in this table include: table_name, table_type<br />• SELECT * FROM information_schema.columns WHERE table_name = ‘&lt;INSERT_NAME&gt;’<br />   ◇ Returns the columns from the specified table.<br />   ◇ Columns in this table include: column_name, data_type<br />• From here seach for tables with things like “user credentials” in it.<br />• Use the information you discovered from your union attack, to display the information.<br /><em><br />• What about Oracle?</em><br />• Oracle has different commands:<br />• SELECT * FROM all_tables<br />• SELECT * FROM all_tab_columns WHERE table_name = ‘USERS’<br />   ◇ Columns like: table_name, column_name are handy to check. You can always google others.</div></body></html>